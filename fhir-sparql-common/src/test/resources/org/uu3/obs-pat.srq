# QueryAnalyzer.getArcTrees() test 1
# Reflect order of final ArcTrees.

PREFIX fhir: <http://hl7.org/fhir/>
PREFIX sct: <http://snomed.info/id/>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>

SELECT ?obs ?patId ?subject WHERE {
  # Obs
  ?obs a fhir:Observation ;				#  0
                                                	
  #   code                                      	
    fhir:code [						#  1
      fhir:coding [					#  2
        rdf:rest*/rdf:first [				#  3
          fhir:code [					#  4
            fhir:v "72166-2" ] ;			#  5
          fhir:system [					#  6
            fhir:v "http://loinc.org"^^xsd:anyURI ]	#  7
    ] ] ] .

  #   subject                                   	
  ?obs fhir:subject [					#  8
    fhir:reference [					#  9
      fhir:link ?subject ] ] .				# 10
                                                	
  # Patient                                     	
  ?subject a fhir:Patient .				# 11
                                                	
  #   id                                        	
  ?subject fhir:id [					# 12
    fhir:v ?patId ] .					# 13
}
