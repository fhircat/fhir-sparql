{
  "type":"query",
  "queryType":"SELECT",
  "variables":[{"termType":"Variable","value":"obsId"},{"termType":"Variable","value":"patId"}],
  "where":[
    {"type":"bgp",
     "triples":[
       {"subject":{"termType":"Variable","value":"obs"},"predicate":{"termType":"NamedNode","value":"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"},"object":{"termType":"NamedNode","value":"http://hl7.org/fhir/Observation"}},
       {"subject":{"termType":"Variable","value":"obs"},"predicate":{"termType":"NamedNode","value":"http://hl7.org/fhir/code"},"object":{"termType":"Variable","value":"code"}},
       {"subject":{"termType":"Variable","value":"code"},"predicate":{"termType":"NamedNode","value":"http://hl7.org/fhir/coding"},"object":{"termType":"Variable","value":"codeList"}},
       {"subject":{"termType":"Variable","value":"codeList"},"predicate":{
         "type":"path","pathType":"/","items":[
           {"type":"path","pathType":"*","items":[
             {"type":"path","pathType":"/","items":[
               {"termType":"NamedNode","value":"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},
               {"termType":"NamedNode","value":"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"}
             ]}
           ]},
           {"termType":"NamedNode","value":"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"}
         ]},"object":{"termType":"Variable","value":"codeElt"}
       },
       {"subject":{"termType":"Variable","value":"codeElt"},"predicate":{"termType":"NamedNode","value":"http://hl7.org/fhir/code"},"object":{"termType":"Variable","value":"codeCode"}},
       {"subject":{"termType":"Variable","value":"codeCode"},"predicate":{"termType":"NamedNode","value":"http://hl7.org/fhir/v"},"object":{"termType":"Literal","value":"789-8","language":"","datatype":{"termType":"NamedNode","value":"http://www.w3.org/2001/XMLSchema#string"}}},
       {"subject":{"termType":"Variable","value":"codeElt"},"predicate":{"termType":"NamedNode","value":"http://hl7.org/fhir/system"},"object":{"termType":"Variable","value":"codingSystem"}},
       {"subject":{"termType":"Variable","value":"codingSystem"},"predicate":{"termType":"NamedNode","value":"http://hl7.org/fhir/v"},"object":{"termType":"Literal","value":"http://loinc.org","language":"","datatype":{"termType":"NamedNode","value":"http://www.w3.org/2001/XMLSchema#anyURI"}}},
       {"subject":{"termType":"Variable","value":"obs"},"predicate":{"termType":"NamedNode","value":"http://hl7.org/fhir/subject"},"object":{"termType":"Variable","value":"subjectRef"}},
       {"subject":{"termType":"Variable","value":"subjectRef"},"predicate":{"termType":"NamedNode","value":"http://hl7.org/fhir/reference"},"object":{"termType":"Variable","value":"subject"}},
       {"subject":{"termType":"Variable","value":"subject"},"predicate":{"termType":"NamedNode","value":"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"},"object":{"termType":"NamedNode","value":"http://hl7.org/fhir/Patient"}},
       {"subject":{"termType":"Variable","value":"subject"},"predicate":{"termType":"NamedNode","value":"http://hl7.org/fhir/id"},"object":{"termType":"Variable","value":"patIdElt"}},
       {"subject":{"termType":"Variable","value":"patIdElt"},"predicate":{"termType":"NamedNode","value":"http://hl7.org/fhir/v"},"object":{"termType":"Variable","value":"patId"}}]
    }
  ],
  "prefixes":{
    "fhir":"http://hl7.org/fhir/",
    "sct":"http://snomed.info/id/",
    "xsd":"http://www.w3.org/2001/XMLSchema#",
    "rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#"
  }
}
